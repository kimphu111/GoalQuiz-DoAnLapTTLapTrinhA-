<div class="home-container">
  <!-- Header -->
  <header class="header">
    <div class="logo">GoalQuiz</div>
    <div class="greeting">Xin chÃ o, chÃºc báº¡n má»™t ngÃ y tá»‘t lÃ nh!</div>
    <div class="user-info">
      <span class="username">Xin chÃ o, {{ username }}</span>
      <span class="notification-icon">ğŸ””</span>
      <!-- Doi theme -->
      <button class="theme-toggle-button" (click)="toggleTheme()">
        {{ isDarkMode ? 'â˜€ï¸ ' : 'ğŸŒ™ ' }}
      </button>


      <button class="logout-button" (click)="onLogout()">ÄÄƒng xuáº¥t</button>
    </div>
  </header>

  <!-- Ná»™i dung chÃ­nh -->
  <div class="main-content">
    <!-- Sidebar -->

    <aside class="sidebar" [ngClass]="{'hidden': !isSidebarVisible}">
      <button class="menu-toggle" (click)="toggleSidebar()">â˜°</button>
      <ul>
        <li><a [routerLink]="['/home']" class="active">ğŸ  Trang chá»§</a></li>
        <li><a [routerLink]="['/quiz']">ğŸ“ Quiz</a></li>
        <li><a [routerLink]="['/points']">ğŸ“Š Äiá»ƒm cÃ¡ nhÃ¢n</a></li>
        <li><a [routerLink]="['/profile']">ğŸ‘¤ ThÃ´ng tin cÃ¡ nhÃ¢n</a></li>
        <li><a [routerLink]="['/review']">ğŸ” Xem láº¡i</a></li>
        <!--        <li><a [routerLink]="['/edit-info']">âœï¸</a></li>-->
      </ul>
    </aside>

    <!-- Ná»™i dung -->
    <section class="content">
      <div class="content-row" *ngIf="!isLoading; else loadingTemplate">
        <!-- Card minh há»a -->
        <div class="illustration-card">
          <img src="assets/illustrationPiictureHome.png" alt="Minh há»a Quiz" loading="lazy" />
          <p>QUIZ BÃ“NG ÄÃ</p>
        </div>

        <!-- Card biá»ƒu Ä‘á»“ - Chá»‰ render trÃªn client -->
        <div class="chart-card" *ngIf="isBrowser">
          <canvas baseChart
                  [data]="barChartData"
                  [options]="barChartOptions"
                  type="bar">
          </canvas>
        </div>
      </div>

      <!-- Card lá»‹ch -->
      <div class="calendar-card">
        <div class="calendar-header">
          <button class="nav-button" (click)="prevMonth()">â†</button>
          <h3>{{ currentMonth }}</h3>
          <button class="nav-button" (click)="nextMonth()">â†’</button>
        </div>
        <div class="calendar-grid">
          <div
            *ngFor="let day of daysInMonth"
            class="calendar-day"
            [ngClass]="{
            'highlighted': highlightedDays.includes(day),
            'today': isToday(day)
             }"
            >
            <!-- Chá»‰ hiá»ƒn thá»‹ náº¿u day khÃ´ng pháº£i lÃ  0 -->
            {{ day !== 0 ? day : '' }}
          </div>
        </div>
      </div>

    </section>
  </div>

  <!-- Template loading -->
  <ng-template #loadingTemplate>
    <div class="loading">Äang táº£i dá»¯ liá»‡u...</div>
  </ng-template>
</div>
